<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Void Lee</title>
</head>

<body>
    <div id="overlay" onClick="finishText()">
        <div id="phone-alert" class="phone-alert" onClick="toggleSidebar('phone');">
            <p id="alert-message"></p>
        </div>
        <div class="story" style="background-image: url(../../resources/images/backgrounds/new-game.png);" id="story">
        </div>
        <div id="custom-alert" class="snackbar">
            <p id="alert-message"></p>
        </div>
    </div>

    <script type="module">
        import * as script from "../../script.js"

        window.addEventListener("pageshow", () => {
            fadeInOverlay();
            buildSidebar();
            const hasPineNeedles = checkItems('pine needles');

            const params = new URLSearchParams(window.location.search);


            createNarrative(
                `"Ah, to sleep, perchance to dream."^^...^^A great forest towers over you. The ground is layered with pine needles. The stacked needles must be at least 40cm deep! It feels like this bed of needles is just barely supporting your weight and if you were any heavier, you might start to sink. Your progress is slow while you focus on balance.${!hasPineNeedles ? '^^{Pick up a handful of pine needles.}' : ''}`,
            );
            playText(onEnd => {
                showBottomChoices([{ label: 'Admire the trees.', onClick: `redirect('sleep/sleep-dream1.html')` }]);
            }, [`addItem('pine needles')`]);
        })

    </script>
    <link rel="stylesheet" href="../../styles/styles.css">
    <link rel="stylesheet" href="../../styles/button.css">
    <link rel="stylesheet" href="../../styles/dialog.css">
    <link rel="stylesheet" href="../../styles/choices.css">
    <link rel="stylesheet" href="../../styles/alert.css">

</body>

</html>